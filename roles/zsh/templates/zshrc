if [[ -z "$ZELLIJ" ]]; then
  zellij attach -c main
fi

# Zinit
ZINIT_HOME="${XDG_DATA_HOME:-${HOME}/.local/share}/zinit/zinit.git"
source "${ZINIT_HOME}/zinit.zsh"

# Plugins
zinit light zsh-users/zsh-autosuggestions
zinit light zsh-users/zsh-completions
zinit light zsh-users/zsh-history-substring-search
zinit light zdharma-continuum/fast-syntax-highlighting

# History substring search bindings
bindkey '^[[A' history-substring-search-up
bindkey '^[[B' history-substring-search-down
bindkey -M vicmd 'k' history-substring-search-up
bindkey -M vicmd 'j' history-substring-search-down

# Load completions
autoload -Uz compinit && compinit

source ~/.profile

# Initialize zoxide if available
if command -v zoxide >/dev/null 2>&1; then
  eval "$(zoxide init zsh)"
fi

# Initialize fzf if available
if command -v fzf >/dev/null 2>&1; then
  source <(fzf --zsh)
fi

# Initialize starship prompt
eval "$(starship init zsh)"

# Aliases
alias cat='bat'
alias ls='eza'
alias ll='eza -l'
alias la='eza -la'

export PATH="$HOME/.local/bin:$PATH"
